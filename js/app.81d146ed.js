(function(){"use strict";var e={9861:function(e,l,t){var a=t(5688),n=t(6768),o=t(1798),u=(t(4114),t(973));const s=e=>((0,n.Qi)("data-v-5d67e3b5"),e=e(),(0,n.jt)(),e),i={class:"navbar"},r=s((()=>(0,n.Lk)("li",null,[(0,n.Lk)("a",{class:"navbar-brand"},"ARK_ITEM")],-1)));var c={__name:"NavComponent",setup(e){const l=(0,u.rd)(),t=()=>{l.push("/list")};return(e,l)=>((0,n.uX)(),(0,n.CE)("nav",i,[(0,n.Lk)("ul",{class:"nav-menu"},[r,(0,n.Lk)("li",null,[(0,n.Lk)("a",{class:"navbar-brand",onClick:t},"비품")])])]))}},d=t(1241);const p=(0,d.A)(c,[["__scopeId","data-v-5d67e3b5"]]);var _=p;const v={class:"container"},m=(0,n.Lk)("h1",null,"Home",-1);var k={__name:"App",setup(e){return(e,l)=>{const t=(0,n.g2)("router-view");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.bF)((0,o.R1)(_)),(0,n.Lk)("div",v,[m,(0,n.bF)(t)])],64)}}};const b=k;var L=b,y=t(5187);const h=(0,n.Lk)("option",null," 선택 ",-1),f=["value"];var g={__name:"selectComponent",props:{optionType:{type:String,required:!0},modelValue:{type:String,default:""}},emits:["optionSelected","update:modelValue"],setup(e,{emit:l}){const t=e,a=l,u=(0,o.KR)([]),s=(0,o.KR)(t.modelValue);(0,n.wB)((()=>t.modelValue),(e=>{s.value=e}));const i=e=>{const l=e.target.value;a("update:modelValue",l),a("optionSelected",{id:t.optionType,value:l})},r=async()=>{let e;"item"===t.optionType?e="/api/item_name":"status"===t.optionType?e="/api/status_name":"location"===t.optionType?e="/api/location_name":"employee"===t.optionType&&(e="/api/employee_name");try{const l=await fetch(e);if(!l.ok)throw new Error("서버에서 데이터를 가져오지 못했습니다.");const t=await l.json();u.value=t}catch(l){console.error("데이터를 가져오는 중 오류가 발생했습니다:",l)}},c=e=>"item"===t.optionType?e.item_code:"status"===t.optionType?e.status_code:"location"===t.optionType?e.location_code:"employee"===t.optionType?e.employee_code:void 0,d=e=>"item"===t.optionType?e.item_name:"status"===t.optionType?e.status_name:"location"===t.optionType?e.location_name:"employee"===t.optionType?e.employee_name:void 0;return(0,n.sV)((()=>{r()})),(e,l)=>((0,n.uX)(),(0,n.CE)("select",{id:"itemSelect",onChange:i},[h,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(u.value,(e=>((0,n.uX)(),(0,n.CE)("option",{key:c(e),value:c(e)},(0,y.v_)(d(e)),9,f)))),128))],32))}};const w=g;var C=w;const V={class:"container"},S={class:"selectbar-area"},T=(0,n.Lk)("br",null,null,-1),x={border:"1"},E=(0,n.Lk)("thead",null,[(0,n.Lk)("th",null,"번호"),(0,n.Lk)("th",null,"종류"),(0,n.Lk)("th",null,"시리얼넘버"),(0,n.Lk)("th",null,"상태"),(0,n.Lk)("th",null,"위치"),(0,n.Lk)("th",null,"현사용자")],-1),U=["onClick"];var R={__name:"List",setup(e){const l=(0,o.KR)([]),t=(0,u.rd)();let a=(0,o.KR)(null),s=(0,o.KR)(null),i=(0,o.KR)(null);const r=e=>{t.push({name:"ListDetail",params:{id:e.list_serial_number}})},c=()=>{t.push("/create/")},d=e=>{"item"===e.id?(a.value=e.value,console.log(a)):"status"===e.id?s.value=e.value:"location"===e.id&&(i.value=e.value)},p=async()=>{try{const e=a.value,t=s.value,n=i.value;"선택"===e&&(a.value=null),"선택"===t&&(s.value=null),"선택"===n&&(i.value=null);const o=await fetch(`/api/filter_list?option1=${e}&option2=${t}&option3=${n}`);if(!o.ok)throw new Error("서버에서 데이터를 가져오지 못했습니다.");const u=await o.json();l.value=u}catch(e){console.error("데이터를 가져오는 중 오류가 발생했습니다:",e)}};return(0,n.sV)((()=>{p()})),(0,n.wB)([a,s,i],(()=>{p()})),(e,t)=>((0,n.uX)(),(0,n.CE)("div",V,[(0,n.Lk)("p",S,[(0,n.bF)((0,o.R1)(C),{optionType:"item",onOptionSelected:d}),(0,n.bF)((0,o.R1)(C),{optionType:"status",onOptionSelected:d}),(0,n.bF)((0,o.R1)(C),{optionType:"location",onOptionSelected:d}),(0,n.Lk)("button",{class:"insert-button",onClick:c},"비품등록")]),T,(0,n.Lk)("table",x,[E,(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(l.value,(e=>((0,n.uX)(),(0,n.CE)("tr",{key:e.id,onClick:l=>r(e)},[(0,n.Lk)("td",null,(0,y.v_)(e.list_index),1),(0,n.Lk)("td",null,(0,y.v_)(e.list_item_code),1),(0,n.Lk)("td",null,(0,y.v_)(e.list_serial_number),1),(0,n.Lk)("td",null,(0,y.v_)(e.list_status_code),1),(0,n.Lk)("td",null,(0,y.v_)(e.list_location_code),1),(0,n.Lk)("td",null,(0,y.v_)(e.list_employee_code),1)],8,U)))),128))])])]))}};const j=R;var O=j;const F=(0,n.Lk)("label",null,"시리얼번호",-1),J=(0,n.Lk)("label",null,"종류",-1),K=(0,n.Lk)("label",null,"모델명",-1),N=(0,n.Lk)("label",null,"제조사",-1),X=(0,n.Lk)("label",null,"구입일자",-1),M=(0,n.Lk)("label",null,"구매처",-1),A=(0,n.Lk)("label",null,"현사용자",-1),W=(0,n.Lk)("label",null,"상태",-1),P=(0,n.Lk)("label",null,"위치",-1),$=(0,n.Lk)("label",null,"특이사항",-1),B=(0,n.Lk)("br",null,null,-1),D=(0,n.Lk)("button",{type:"submit"},"입력",-1);var I={__name:"Create",setup(e){const l=(0,u.rd)(),t=(0,o.KR)(""),s=(0,o.KR)({image_url:"",serial_number:"",item_code:"",status_code:"",model_name:"",manufacturer:"",bought_date:"",buy_at:"",employee_code:"",location_code:"",etc:""}),i=()=>{const e=event.target.files[0];e?(t.value=e.name,s.value.image_url=e.name):t.value=detail.d_image_url||"",console.log(t.value)},r=()=>{l.push("/list")},c=async()=>{if(""!=s.value.serial_number)if(""!=s.value.item_code)if(""!=s.value.model_name)if(""!=s.value.manufacturer)if(""!=s.value.bought_date)if(""!=s.value.buy_at)if(""!=s.value.status_code)if(""!=s.value.location_code){try{const e=await fetch("/api/insert_fixtures",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s.value)});if(console.log(e),!e.ok)throw new Error("Failed to insert item");const l=await e.json();console.log("Successfully inserted:",l)}catch(e){console.error("Error:",e)}l.push({name:"ListDetail",params:{id:s.value.serial_number}})}else alert("위치를 선택해주세요");else alert("상태를 선택해주세요");else alert("구매처를 입력해주세요");else alert("구입일자를 입력해주세요");else alert("제조사를 입력해주세요");else alert("모델명을 입력해주세요");else alert("종류를 선택해주세요");else alert("시리얼번호를 입력해주세요")};return(0,n.wB)(s,(()=>{console.log(s.value)}),{deep:!0}),(e,l)=>((0,n.uX)(),(0,n.CE)("div",null,[(0,n.Lk)("form",{class:"container",onSubmit:(0,a.D$)(c,["prevent"])},[(0,n.Lk)("input",{type:"file",accept:"image/png, image/jpeg, image/jpg",onChange:i},null,32),F,(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":l[0]||(l[0]=e=>s.value.serial_number=e)},null,512),[[a.Jo,s.value.serial_number]]),J,(0,n.bF)(C,{optionType:"item",modelValue:s.value.item_code,"onUpdate:modelValue":l[1]||(l[1]=e=>s.value.item_code=e),style:{width:"100%"}},null,8,["modelValue"]),K,(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":l[2]||(l[2]=e=>s.value.model_name=e)},null,512),[[a.Jo,s.value.model_name]]),N,(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":l[3]||(l[3]=e=>s.value.manufacturer=e)},null,512),[[a.Jo,s.value.manufacturer]]),X,(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":l[4]||(l[4]=e=>s.value.bought_date=e)},null,512),[[a.Jo,s.value.bought_date]]),M,(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":l[5]||(l[5]=e=>s.value.buy_at=e)},null,512),[[a.Jo,s.value.buy_at]]),A,(0,n.bF)(C,{optionType:"employee",modelValue:s.value.employee_code,"onUpdate:modelValue":l[6]||(l[6]=e=>s.value.employee_code=e),style:{width:"100%"}},null,8,["modelValue"]),W,(0,n.bF)(C,{optionType:"status",modelValue:s.value.status_code,"onUpdate:modelValue":l[7]||(l[7]=e=>s.value.status_code=e),style:{width:"100%"}},null,8,["modelValue"]),P,(0,n.bF)(C,{optionType:"location",modelValue:s.value.location_code,"onUpdate:modelValue":l[8]||(l[8]=e=>s.value.location_code=e),style:{width:"100%"}},null,8,["modelValue"]),$,(0,n.bo)((0,n.Lk)("textarea",{type:"text","onUpdate:modelValue":l[9]||(l[9]=e=>s.value.etc=e)},null,512),[[a.Jo,s.value.etc]]),B,(0,n.Lk)("p",null,[D,(0,n.Lk)("button",{onClick:r},"뒤로가기")])],32)]))}};const Q=I;var H=Q;const q={key:0,class:"black-bg"},G={class:"white-bg"},z=(0,n.Lk)("h3",{style:{"text-align":"center"}},"등록",-1),Y=(0,n.Lk)("label",null,"A/S일자",-1),Z=(0,n.Lk)("label",null,"증상",-1),ee=(0,n.Lk)("label",null,"조치내용",-1),le=(0,n.Lk)("button",{type:"submit"},"등록",-1);var te={__name:"AsHistoryInputModal",props:{inputModal:Boolean,serial_no:String},emits:["update","close"],setup(e,{emit:l}){const t=e,u=t.serial_no,s=(0,o.KR)({serial_number:u,check_date:"",as_cause:"",as_action:""}),i=l,r=()=>{i("close")},c=async()=>{try{const e=await fetch("/api/insert_repair_history",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s.value)});if(console.log(e),!e.ok)throw new Error("Failed to insert item");const l=await e.json();i("update"),i("close"),console.log("Successfully inserted:",l)}catch(e){console.error("Error:",e)}s.value.check_date="",s.value.as_cause="",s.value.as_action=""};return(l,t)=>1==e.inputModal?((0,n.uX)(),(0,n.CE)("div",q,[(0,n.Lk)("div",G,[(0,n.Lk)("form",{onSubmit:(0,a.D$)(c,["prevent"])},[(0,n.Lk)("p",null,[z,Y,(0,n.eW)(" : "),(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>s.value.check_date=e)},null,512),[[a.Jo,s.value.check_date]])]),(0,n.Lk)("p",null,[Z,(0,n.eW)(" : "),(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>s.value.as_cause=e)},null,512),[[a.Jo,s.value.as_cause]])]),(0,n.Lk)("p",null,[ee,(0,n.eW)(" : "),(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=e=>s.value.as_action=e)},null,512),[[a.Jo,s.value.as_action]])]),(0,n.Lk)("p",{style:{"text-align":"center"}},[le,(0,n.Lk)("button",{type:"button",onClick:r},"닫기")])],32)])])):(0,n.Q3)("",!0)}};const ae=te;var ne=ae;const oe={key:0,class:"black-bg"},ue={class:"white-bg"},se=(0,n.Lk)("h3",{style:{"text-align":"center"}},"수정",-1),ie=(0,n.Lk)("label",null,"A/S일자",-1),re=(0,n.Lk)("label",null,"증상",-1),ce=(0,n.Lk)("label",null,"조치내용",-1),de=(0,n.Lk)("button",{type:"submit"},"수정",-1);var pe={__name:"AsHistoryUpdateModal",props:{updateModal:Boolean,serial_no:String,selectedRow:Object},emits:["update","close"],setup(e,{emit:l}){const t=e,u=(0,o.KR)({...t.selectedRow}),s=(0,o.KR)({serial_number:"",check_date:"",as_cause:"",as_action:""});(0,n.wB)((()=>t.selectedRow),(e=>{u.value={...e},s.value={index_num:e.r_repair_index||"",check_date:e.r_check_date||"",as_cause:e.r_as_cause||"",as_action:e.r_as_action||""},console.log(u.value),console.log(s.value)}));const i=l,r=()=>{i("close")},c=async()=>{try{const e=await fetch("/api/update_repair_history",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s.value)});if(console.log(e),!e.ok)throw new Error("Failed to insert item");const l=await e.json();i("update"),i("close"),console.log("Successfully inserted:",l)}catch(e){console.error("Error:",e)}};return(l,t)=>1==e.updateModal?((0,n.uX)(),(0,n.CE)("div",oe,[(0,n.Lk)("div",ue,[(0,n.Lk)("form",{onSubmit:(0,a.D$)(c,["prevent"])},[(0,n.Lk)("p",null,[se,ie,(0,n.eW)(" : "),(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>s.value.check_date=e)},null,512),[[a.Jo,s.value.check_date]])]),(0,n.Lk)("p",null,[re,(0,n.eW)(" : "),(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>s.value.as_cause=e)},null,512),[[a.Jo,s.value.as_cause]])]),(0,n.Lk)("p",null,[ce,(0,n.eW)(" : "),(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=e=>s.value.as_action=e)},null,512),[[a.Jo,s.value.as_action]])]),(0,n.Lk)("p",{style:{"text-align":"center"}},[de,(0,n.Lk)("button",{type:"button",onClick:r},"닫기")])],32)])])):(0,n.Q3)("",!0)}};const _e=pe;var ve=_e;const me=e=>((0,n.Qi)("data-v-23b3d71c"),e=e(),(0,n.jt)(),e),ke={class:"content"},be={class:"inline"},Le=me((()=>(0,n.Lk)("h2",null,"A/S 기록",-1))),ye=me((()=>(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"번호"),(0,n.Lk)("th",null,"A/S일자"),(0,n.Lk)("th",null,"증상"),(0,n.Lk)("th",null,"조치내용"),(0,n.Lk)("th",null,"수정/삭제")])],-1))),he={style:{width:"100px"}},fe=["onClick"],ge=["onClick"];var we={__name:"AsHistoryTab",props:{serialNum:String},setup(e){const l=e,t=l.serialNum,a=(0,o.KR)([]),u=(0,o.KR)(!1),s=(0,o.KR)(!1),i=(0,o.KR)(null),r=async e=>{try{const l=await fetch(`/api/read_repair_history/${e}`);if(!l.ok)throw new Error("서버에서 데이터를 가져오지 못했습니다.");const t=await l.json();a.value=t}catch(l){console.error("데이터를 가져오는 중 오류가 발생했습니다:",l)}},c=async e=>{if(window.confirm("정말 삭제하시겠습니까?")){try{const l=await fetch("/api/delete_repair_history",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({index_num:e})});if(!l.ok)throw new Error("Failed to delete item")}catch(l){console.error("Error:",l)}p()}},d=e=>{i.value=e,s.value=!s.value},p=()=>{r(t)};return(0,n.sV)((()=>{r(t)})),(e,l)=>((0,n.uX)(),(0,n.CE)("div",ke,[(0,n.Lk)("p",be,[Le,(0,n.Lk)("button",{class:"insert-button",onClick:l[0]||(l[0]=e=>u.value=!u.value)},"등록")]),(0,n.bF)(ne,{inputModal:u.value,serial_no:(0,o.R1)(t),onUpdate:p,onClose:l[1]||(l[1]=e=>u.value=!1)},null,8,["inputModal","serial_no"]),(0,n.bF)(ve,{selectedRow:i.value,updateModal:s.value,onUpdate:p,onClose:l[2]||(l[2]=e=>s.value=!1)},null,8,["selectedRow","updateModal"]),(0,n.Lk)("table",null,[ye,(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(a.value,((e,l)=>((0,n.uX)(),(0,n.CE)("tr",{key:e.r_repair_index},[(0,n.Lk)("td",null,(0,y.v_)(l+1),1),(0,n.Lk)("td",null,(0,y.v_)(e.r_check_date),1),(0,n.Lk)("td",null,(0,y.v_)(e.r_as_cause),1),(0,n.Lk)("td",null,(0,y.v_)(e.r_as_action),1),(0,n.Lk)("td",he,[(0,n.Lk)("button",{class:"update-button",onClick:l=>d(e)},"수정",8,fe),(0,n.Lk)("button",{onClick:l=>c(e.r_repair_index)},"삭제",8,ge)])])))),128))])])]))}};const Ce=(0,d.A)(we,[["__scopeId","data-v-23b3d71c"]]);var Ve=Ce;const Se={key:0,class:"black-bg"},Te={class:"white-bg"},xe=(0,n.Lk)("h3",{style:{"text-align":"center"}},"등록",-1),Ee=(0,n.Lk)("label",null,"사용자명",-1),Ue=(0,n.Lk)("label",null,"시작/종료",-1),Re=(0,n.Lk)("option",{disabled:"",value:""},"선택",-1),je=(0,n.Lk)("option",null,"사용시작",-1),Oe=(0,n.Lk)("option",null,"사용완료",-1),Fe=[Re,je,Oe],Je=(0,n.Lk)("label",null,"날짜",-1),Ke=(0,n.Lk)("button",{type:"submit"},"등록",-1);var Ne={__name:"UserHistoryInputModal",props:{inputModal:Boolean,serial_no:String},emits:["update","close"],setup(e,{emit:l}){const t=e,u=t.serial_no,s=(0,o.KR)({serial_number:u,user_code:"",use_state:"",use_date:""}),i=l,r=()=>{i("close")},c=async()=>{try{const e=await fetch("/api/insert_user_history",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s.value)});if(console.log(e),!e.ok)throw new Error("Failed to insert item");const l=await e.json();i("update"),i("close"),console.log("Successfully inserted:",l)}catch(e){console.error("Error:",e)}s.value.user_code="",s.value.use_state="",s.value.use_date=""};return(l,t)=>1==e.inputModal?((0,n.uX)(),(0,n.CE)("div",Se,[(0,n.Lk)("div",Te,[(0,n.Lk)("form",{onSubmit:(0,a.D$)(c,["prevent"])},[(0,n.Lk)("p",null,[xe,Ee,(0,n.eW)(" : "),(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>s.value.user_code=e)},null,512),[[a.Jo,s.value.user_code]])]),(0,n.Lk)("p",null,[Ue,(0,n.eW)(" : "),(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>s.value.use_state=e)},Fe,512),[[a.u1,s.value.use_state]])]),(0,n.Lk)("p",null,[Je,(0,n.eW)(" : "),(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=e=>s.value.use_date=e)},null,512),[[a.Jo,s.value.use_date]])]),(0,n.Lk)("p",{style:{"text-align":"center"}},[Ke,(0,n.Lk)("button",{type:"button",onClick:r},"닫기")])],32)])])):(0,n.Q3)("",!0)}};const Xe=Ne;var Me=Xe;const Ae={key:0,class:"black-bg"},We={class:"white-bg"},Pe=(0,n.Lk)("h3",{style:{"text-align":"center"}},"수정",-1),$e=(0,n.Lk)("label",null,"사용자명",-1),Be=(0,n.Lk)("label",null,"시작/종료",-1),De=(0,n.Lk)("option",{disabled:"",value:""},"선택",-1),Ie=(0,n.Lk)("option",null,"사용시작",-1),Qe=(0,n.Lk)("option",null,"사용완료",-1),He=[De,Ie,Qe],qe=(0,n.Lk)("label",null,"날짜",-1),Ge=(0,n.Lk)("button",{type:"submit"},"수정",-1);var ze={__name:"UserHistoryUpdateModal",props:{updateModal:Boolean,serial_no:String,selectedRow:Object},emits:["update","close"],setup(e,{emit:l}){const t=e,u=(0,o.KR)({...t.selectedRow}),s=(0,o.KR)({used_index:"",user_code:"",use_state:"",use_date:""});(0,n.wB)((()=>t.selectedRow),(e=>{u.value={...e},s.value={used_index:e.h_used_index||"",user_code:e.h_user_name||"",use_state:e.h_use_state||"",use_date:e.h_use_date||""},console.log(u.value),console.log(s.value)}));const i=l,r=()=>{i("close")},c=async()=>{try{const e=await fetch("/api/update_user_history",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s.value)});if(console.log(e),!e.ok)throw new Error("Failed to insert item");const l=await e.json();i("update"),i("close"),console.log("Successfully inserted:",l)}catch(e){console.error("Error:",e)}};return(l,t)=>1==e.updateModal?((0,n.uX)(),(0,n.CE)("div",Ae,[(0,n.Lk)("div",We,[(0,n.Lk)("form",{onSubmit:(0,a.D$)(c,["prevent"])},[(0,n.Lk)("p",null,[Pe,$e,(0,n.eW)(" : "),(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>s.value.user_code=e)},null,512),[[a.Jo,s.value.user_code]])]),(0,n.Lk)("p",null,[Be,(0,n.eW)(" : "),(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>s.value.use_state=e)},He,512),[[a.u1,s.value.use_state]])]),(0,n.Lk)("p",null,[qe,(0,n.eW)(" : "),(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=e=>s.value.use_date=e)},null,512),[[a.Jo,s.value.use_date]])]),(0,n.Lk)("p",{style:{"text-align":"center"}},[Ge,(0,n.Lk)("button",{type:"button",onClick:r},"닫기")])],32)])])):(0,n.Q3)("",!0)}};const Ye=ze;var Ze=Ye;const el=e=>((0,n.Qi)("data-v-7ac8e5ad"),e=e(),(0,n.jt)(),e),ll={class:"content"},tl={class:"inline"},al=el((()=>(0,n.Lk)("h2",null,"사용자 기록",-1))),nl=el((()=>(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"번호"),(0,n.Lk)("th",null,"사용자 기록"),(0,n.Lk)("th",null,"사용 시작/종료"),(0,n.Lk)("th",null,"날짜"),(0,n.Lk)("th",null,"수정/삭제")])],-1))),ol={style:{width:"100px"}},ul=["onClick"],sl=["onClick"];var il={__name:"UserHistoryTab",props:{serialNum:String},setup(e){const l=e,t=l.serialNum,a=(0,o.KR)([]),u=(0,o.KR)(!1),s=(0,o.KR)(!1),i=(0,o.KR)(null),r=async e=>{try{const l=await fetch(`/api/read_user_history/${e}`);if(!l.ok)throw new Error("서버에서 데이터를 가져오지 못했습니다.");const t=await l.json();a.value=t}catch(l){console.error("데이터를 가져오는 중 오류가 발생했습니다:",l)}},c=async e=>{if(window.confirm("정말 삭제하시겠습니까?")){try{const l=await fetch("/api/delete_user_history",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({index_num:e})});if(!l.ok)throw new Error("Failed to delete item")}catch(l){console.error("Error:",l)}p()}},d=e=>{i.value=e,s.value=!s.value},p=()=>{r(t)};return(0,n.sV)((()=>{r(t)})),(e,l)=>((0,n.uX)(),(0,n.CE)("div",ll,[(0,n.Lk)("p",tl,[al,(0,n.Lk)("button",{class:"insert-button",onClick:l[0]||(l[0]=e=>u.value=!u.value)},"등록")]),(0,n.bF)(Me,{inputModal:u.value,serial_no:(0,o.R1)(t),onUpdate:p,onClose:l[1]||(l[1]=e=>u.value=!1)},null,8,["inputModal","serial_no"]),(0,n.bF)(Ze,{selectedRow:i.value,updateModal:s.value,onUpdate:p,onClose:l[2]||(l[2]=e=>s.value=!1)},null,8,["selectedRow","updateModal"]),(0,n.Lk)("table",null,[nl,(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(a.value,((e,l)=>((0,n.uX)(),(0,n.CE)("tr",{key:e.h_used_index},[(0,n.Lk)("td",null,(0,y.v_)(l+1),1),(0,n.Lk)("td",null,(0,y.v_)(e.h_user_name),1),(0,n.Lk)("td",null,(0,y.v_)(e.h_use_state),1),(0,n.Lk)("td",null,(0,y.v_)(e.h_use_date),1),(0,n.Lk)("td",ol,[(0,n.Lk)("button",{class:"update-button",onClick:l=>d(e)},"수정",8,ul),(0,n.Lk)("button",{onClick:l=>c(e.h_used_index)},"삭제",8,sl)])])))),128))])])]))}};const rl=(0,d.A)(il,[["__scopeId","data-v-7ac8e5ad"]]);var cl=rl;const dl={key:0,class:"content"};var pl={__name:"TabComponent",props:{activeTab:Number,detail:Object,serialNum:String},setup(e){const l=e;return(t,o)=>((0,n.uX)(),(0,n.CE)("div",null,[(0,n.bo)((0,n.bF)(cl,{serialNum:l.serialNum},null,8,["serialNum"]),[[a.aG,1===e.activeTab]]),(0,n.bo)((0,n.bF)(Ve,{serialNum:l.serialNum},null,8,["serialNum"]),[[a.aG,2===e.activeTab]]),3===e.activeTab?((0,n.uX)(),(0,n.CE)("div",dl,(0,y.v_)(e.detail.d_etc),1)):(0,n.Q3)("",!0)]))}};const _l=pl;var vl=_l;const ml={class:"image_area"},kl=["src"];var bl={__name:"imageComponent",props:{imageUrl:{type:String,required:!0}},setup(e){const l=e,t=(0,n.EW)((()=>`/${l.imageUrl}`));return(e,l)=>((0,n.uX)(),(0,n.CE)("div",ml,[(0,n.Lk)("img",{class:"detail_img",src:t.value},null,8,kl)]))}};const Ll=bl;var yl=Ll;const hl=e=>((0,n.Qi)("data-v-7822111a"),e=e(),(0,n.jt)(),e),fl={class:"container"},gl=hl((()=>(0,n.Lk)("br",null,null,-1))),wl={class:"table-area"},Cl={class:"status"},Vl=hl((()=>(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"상태")])],-1))),Sl=hl((()=>(0,n.Lk)("br",null,null,-1))),Tl=hl((()=>(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"시리얼넘버"),(0,n.Lk)("th",null,"종류"),(0,n.Lk)("th",null,"모델명"),(0,n.Lk)("th",null,"제조사")])],-1))),xl=hl((()=>(0,n.Lk)("br",null,null,-1))),El=hl((()=>(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"구입일"),(0,n.Lk)("th",null,"구매처"),(0,n.Lk)("th",null,"폐기여부"),(0,n.Lk)("th",null,"사용자"),(0,n.Lk)("th",null,"위치")])],-1))),Ul=hl((()=>(0,n.Lk)("br",null,null,-1)));var Rl={__name:"Detail",setup(e){const l=(0,u.lq)(),t=(0,u.rd)(),a=l.params.id,s=(0,o.KR)({}),i=(0,o.KR)(1),r=async e=>{try{const l=await fetch(`/api/detail_info/${e}`);if(!l.ok)throw new Error("서버에서 데이터를 가져오지 못했습니다.");const t=await l.json();s.value=t[0],console.log(s.value)}catch(l){console.error("데이터를 가져오는 중 오류가 발생했습니다:",l)}},c=async()=>{try{const e=await fetch("/api/delete_fixtures",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({serial_num:a})});if(!e.ok)throw new Error("Failed to delete item");const l=await e.json();console.log("삭제완료",l)}catch(e){console.error("Error:",e)}d()},d=()=>{t.push("/list")},p=()=>{t.push({name:"ListUpdate",params:{id:a},query:{data:JSON.stringify(s.value)}})},_=e=>{window.confirm("정말 삭제하시겠습니까?")&&c()},v=e=>{i.value=e};return(0,n.sV)((()=>{r(a)})),(e,l)=>((0,n.uX)(),(0,n.CE)("div",fl,[s.value.d_image_url?((0,n.uX)(),(0,n.Wv)(yl,{key:0,imageUrl:s.value.d_image_url},null,8,["imageUrl"])):(0,n.Q3)("",!0),gl,(0,n.Lk)("div",wl,[(0,n.Lk)("table",Cl,[Vl,(0,n.Lk)("tbody",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("td",null,(0,y.v_)(s.value.d_status_code),1)])])]),Sl,(0,n.Lk)("table",null,[Tl,(0,n.Lk)("tbody",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("td",null,(0,y.v_)(s.value.d_serial_number),1),(0,n.Lk)("td",null,(0,y.v_)(s.value.d_item_code),1),(0,n.Lk)("td",null,(0,y.v_)(s.value.d_model_name),1),(0,n.Lk)("td",null,(0,y.v_)(s.value.d_manufacturer),1)])])]),xl,(0,n.Lk)("table",null,[El,(0,n.Lk)("tbody",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("td",null,(0,y.v_)(s.value.d_bought_date),1),(0,n.Lk)("td",null,(0,y.v_)(s.value.d_buy_at),1),(0,n.Lk)("td",null,(0,y.v_)(s.value.d_dispose),1),(0,n.Lk)("td",null,(0,y.v_)(s.value.d_employee_name),1),(0,n.Lk)("td",null,(0,y.v_)(s.value.d_location_name),1)])])])]),(0,n.Lk)("p",{class:"detail-button"},[Ul,(0,n.Lk)("button",{onClick:p},"수정"),(0,n.Lk)("button",{onClick:d},"목록"),(0,n.Lk)("button",{onClick:_},"삭제")]),(0,n.Lk)("p",null,[(0,n.Lk)("button",{onClick:l[0]||(l[0]=e=>v(1))},"사용자기록"),(0,n.Lk)("button",{onClick:l[1]||(l[1]=e=>v(2))},"A/S기록"),(0,n.Lk)("button",{onClick:l[2]||(l[2]=e=>v(3))},"특이사항")]),(0,n.bF)(vl,{activeTab:i.value,detail:s.value,serialNum:(0,o.R1)(a)},null,8,["activeTab","detail","serialNum"])]))}};const jl=(0,d.A)(Rl,[["__scopeId","data-v-7822111a"]]);var Ol=jl;const Fl=(0,n.Lk)("label",null,"시리얼번호",-1),Jl=(0,n.Lk)("label",null,"종류",-1),Kl=(0,n.Lk)("label",null,"모델명",-1),Nl=(0,n.Lk)("label",null,"제조사",-1),Xl=(0,n.Lk)("label",null,"구입일자",-1),Ml=(0,n.Lk)("label",null,"구매처",-1),Al=(0,n.Lk)("label",null,"현사용자",-1),Wl=(0,n.Lk)("label",null,"상태",-1),Pl=(0,n.Lk)("label",null,"위치",-1),$l=(0,n.Lk)("label",null,"폐기여부",-1),Bl=(0,n.Lk)("option",{value:"false"},"X",-1),Dl=(0,n.Lk)("option",{value:"true"},"O",-1),Il=[Bl,Dl],Ql=(0,n.Lk)("label",null,"특이사항",-1),Hl=(0,n.Lk)("br",null,null,-1),ql=(0,n.Lk)("button",{type:"submit"},"입력",-1);var Gl={__name:"Update",setup(e){const l=(0,u.lq)(),t=(0,u.rd)(),s=l.params.id,i=JSON.parse(l.query.data||"{}"),r=(0,o.KR)(""),c=()=>{const e=event.target.files[0];e?(r.value=e.name,d.value.image_url=e.name):r.value=i.d_image_url||"",console.log(r.value)},d=(0,o.KR)({serial_num:s,image_url:i.d_image_url||"",serial_number:i.d_serial_number||"",item_name:i.d_item_code||"",status_name:i.d_status_code||"",model_name:i.d_model_name||"",manufacturer:i.d_manufacturer||"",bought_date:i.d_bought_date||"",buy_at:i.d_buy_at||"",dispose:!1,employee_name:i.d_employee_code||"",location_name:i.d_location_code||"",etc:i.d_etc||""}),p=async()=>{if(""!=d.value.serial_number)if(""!=d.value.item_name)if(""!=d.value.model_name)if(""!=d.value.manufacturer)if(""!=d.value.bought_date)if(""!=d.value.buy_at)if(""!=d.value.status_name)if(""!=d.value.location_name){try{const e=await fetch("/api/update_fixtures",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d.value)});if(!e.ok)throw new Error("Failed to update item");await e.json();console.log("Successfully inserted:")}catch(e){console.error("Error:",e)}t.push({name:"ListDetail",params:{id:s}})}else alert("위치를 선택해주세요");else alert("상태를 선택해주세요");else alert("구매처를 입력해주세요");else alert("구입일자를 입력해주세요");else alert("제조사를 입력해주세요");else alert("모델명을 입력해주세요");else alert("종류를 선택해주세요");else alert("시리얼번호를 입력해주세요")};return(e,l)=>((0,n.uX)(),(0,n.CE)("div",null,[(0,n.Lk)("form",{class:"container",onSubmit:(0,a.D$)(p,["prevent"])},[(0,n.Lk)("input",{type:"file",accept:"image/png, image/jpeg, image/jpg",onChange:c},null,32),Fl,(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":l[0]||(l[0]=e=>d.value.serial_number=e),readonly:""},null,512),[[a.Jo,d.value.serial_number]]),Jl,(0,n.bF)(C,{optionType:"item",modelValue:d.value.item_name,"onUpdate:modelValue":l[1]||(l[1]=e=>d.value.item_name=e),style:{width:"100%"}},null,8,["modelValue"]),Kl,(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":l[2]||(l[2]=e=>d.value.model_name=e)},null,512),[[a.Jo,d.value.model_name]]),Nl,(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":l[3]||(l[3]=e=>d.value.manufacturer=e)},null,512),[[a.Jo,d.value.manufacturer]]),Xl,(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":l[4]||(l[4]=e=>d.value.bought_date=e)},null,512),[[a.Jo,d.value.bought_date]]),Ml,(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":l[5]||(l[5]=e=>d.value.buy_at=e)},null,512),[[a.Jo,d.value.buy_at]]),Al,(0,n.bF)(C,{optionType:"employee",modelValue:d.value.employee_name,"onUpdate:modelValue":l[6]||(l[6]=e=>d.value.employee_name=e),style:{width:"100%"}},null,8,["modelValue"]),Wl,(0,n.bF)(C,{optionType:"status",modelValue:d.value.status_name,"onUpdate:modelValue":l[7]||(l[7]=e=>d.value.status_name=e),style:{width:"100%"}},null,8,["modelValue"]),Pl,(0,n.bF)(C,{optionType:"location",modelValue:d.value.location_name,"onUpdate:modelValue":l[8]||(l[8]=e=>d.value.location_name=e),style:{width:"100%"}},null,8,["modelValue"]),$l,(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":l[9]||(l[9]=e=>d.value.dispose=e),style:{width:"100%"}},Il,512),[[a.u1,d.value.dispose]]),Ql,(0,n.bo)((0,n.Lk)("textarea",{type:"text","onUpdate:modelValue":l[10]||(l[10]=e=>d.value.etc=e)},null,512),[[a.Jo,d.value.etc]]),Hl,(0,n.Lk)("p",null,[ql,(0,n.Lk)("button",{onClick:l[11]||(l[11]=(...l)=>e.goBack&&e.goBack(...l))},"뒤로가기")])],32)]))}};const zl=Gl;var Yl=zl;const Zl=[{path:"/list",component:O},{path:"/create",component:H},{path:"/detail/:id",name:"ListDetail",component:Ol},{path:"/update/:id",name:"ListUpdate",component:Yl}],et=(0,u.aE)({history:(0,u.LA)(),routes:Zl});var lt=et,tt=t(5015);const at=(0,a.Ef)(L);at.use(lt),at.use(tt.Ay),at.mount("#app")}},l={};function t(a){var n=l[a];if(void 0!==n)return n.exports;var o=l[a]={exports:{}};return e[a].call(o.exports,o,o.exports,t),o.exports}t.m=e,function(){var e=[];t.O=function(l,a,n,o){if(!a){var u=1/0;for(c=0;c<e.length;c++){a=e[c][0],n=e[c][1],o=e[c][2];for(var s=!0,i=0;i<a.length;i++)(!1&o||u>=o)&&Object.keys(t.O).every((function(e){return t.O[e](a[i])}))?a.splice(i--,1):(s=!1,o<u&&(u=o));if(s){e.splice(c--,1);var r=n();void 0!==r&&(l=r)}}return l}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[a,n,o]}}(),function(){t.n=function(e){var l=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(l,{a:l}),l}}(),function(){t.d=function(e,l){for(var a in l)t.o(l,a)&&!t.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:l[a]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,l){return Object.prototype.hasOwnProperty.call(e,l)}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};t.O.j=function(l){return 0===e[l]};var l=function(l,a){var n,o,u=a[0],s=a[1],i=a[2],r=0;if(u.some((function(l){return 0!==e[l]}))){for(n in s)t.o(s,n)&&(t.m[n]=s[n]);if(i)var c=i(t)}for(l&&l(a);r<u.length;r++)o=u[r],t.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return t.O(c)},a=self["webpackChunkvuedongsan"]=self["webpackChunkvuedongsan"]||[];a.forEach(l.bind(null,0)),a.push=l.bind(null,a.push.bind(a))}();var a=t.O(void 0,[504],(function(){return t(9861)}));a=t.O(a)})();
//# sourceMappingURL=app.81d146ed.js.map